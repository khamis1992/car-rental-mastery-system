# Task ID: 1
# Title: Emergency Fix for Bashaer Tenant Access
# Status: pending
# Dependencies: None
# Priority: high
# Description: Immediate resolution of login issues preventing admin@bashaererp.com from accessing مؤسسة البشائر
# Details:
This is a critical issue blocking user access. The tenant exists but user relationships are broken. Need to verify and repair all connection points between user authentication, tenant association, and employee profile.

# Test Strategy:
Verify admin@bashaererp.com can successfully log in and access all tenant-specific features including dashboard, contracts, and accounting modules.

# Subtasks:
## 1.1. Diagnose Bashaer Tenant Status [pending]
### Dependencies: None
### Description: Run comprehensive diagnostic to identify all broken relationships
### Details:
Use diagnostic functions to check tenant record, user profile, tenant_users link, and employee profile existence and integrity.

## 1.2. Repair User Profile and Tenant Association [pending]
### Dependencies: None
### Description: Fix the profile record and ensure proper tenant_id assignment
### Details:
Update profiles table with correct tenant_id, role assignment, and active status for admin@bashaererp.com

## 1.3. Create Missing Employee Profile [pending]
### Dependencies: None
### Description: Generate employee record for the admin user if missing
### Details:
Create employee record with proper employee number, position as 'مدير عام', and link to user_id

## 1.4. Apply Default Chart of Accounts [pending]
### Dependencies: None
### Description: Ensure tenant has proper accounting structure
### Details:
Run setup_tenant_default_accounts function to create proper accounting foundation

